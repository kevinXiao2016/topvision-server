<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.topvision.ems.cmc.upchannel.domain.CmcUpChannel">        <!-- ################################## select start ####################################### -->    <select id="getUpChannelBaseShowInfoList" parameterType="Long"     resultType="cmcUpChannelBaseShowInfo">        SELECT        a.cmcPortId,        a.cmcId,        a.channelIndex,        a.channelId,        a.channelFrequency,        a.channelWidth,        a.channelModulationProfile,        a.channelMode as channelExtMode,        b.docsIf3SignalPower,        d.collectValue docsIfSigQSignalNoise,        c.ifSpeed,        c.ifMtu,        c.ifAdminStatus,        c.ifOperStatus,        c.ifDescr,        c.ifName,        a.channelSlotSize,        a.channelTxTimingOffset,        a.channelRangingBackoffStart,        a.channelRangingBackoffEnd,        a.channelTxBackoffStart,        a.channelTxBackoffEnd,        a.channelScdmaActiveCodes,        a.channelScdmaHoppingSeed,        a.channelScdmaCodesPerSlot,        a.channelScdmaFrameSize,        a.channelScdmaHoppingSeed,        a.channelType,        a.channelCloneFrom,        a.channelUpdate,        a.channelStatus,        a.channelPreEqEnable        FROM        cmcupchannelbaseinfo a left join cmcupchannelsignalqualityinfo b on               a.cmcPortId=b.cmcPortId        left join cmcportattribute c on        a.cmcPortId=c.cmcPortId        left join perfcmcsnrqualitylast d on        a.channelIndex=d.channelIndex and a.cmcId = d.cmcId        WHERE a.cmcId = #{cmcId}    </select>    <select id="getChannleIndex" parameterType="map" resultType="long">    	SELECT channelIndex from cmcupchannelbaseinfo    	WHERE cmcId=#{cmcId} and channelId = #{channelId}    </select>    <select id="getUpChannelBaseShowInfo" parameterType="Long"     resultType="cmcUpChannelBaseShowInfo">        SELECT        a.cmcPortId,        a.cmcId,        a.channelIndex,        a.channelId,        a.channelFrequency,        a.channelWidth,        a.channelMode as channelExtMode,        a.channelModulationProfile,        a.cmtsChannelModulationProfile as cmtsChannelModulationProfile,        b.docsIfSigQSignalNoise,        b.docsIf3SignalPower,        c.ifSpeed,        c.ifMtu,        c.ifAdminStatus,        c.ifOperStatus,        c.ifDescr,        c.ifName,        a.channelSlotSize,        a.channelTxTimingOffset,        a.channelRangingBackoffStart,        a.channelRangingBackoffEnd,        a.channelTxBackoffStart,        a.channelTxBackoffEnd,        a.channelScdmaHoppingSeed,        a.channelScdmaCodesPerSlot,        a.channelScdmaActiveCodes,        a.channelScdmaFrameSize,        a.channelScdmaHoppingSeed,        a.channelType,        a.channelCloneFrom,        a.channelUpdate,        a.channelStatus,        a.channelPreEqEnable         FROM        cmcupchannelbaseinfo a left join cmcupchannelsignalqualityinfo b        on        a.cmcPortId=b.cmcPortId        left join cmcportattribute c on        b.cmcPortId=c.cmcPortId        WHERE a.cmcPortId =        #{cmcPortId}    </select>    <select id="getUpChannelStaticInfoList" parameterType="Long"     resultType="cmcUpChannelCounterInfo">        SELECT        cmcPortId, cmcId, channelIndex, ctrId,        ctrTotalMslots,        ctrUcastGrantedMslots,        ctrTotalCntnMslots,        ctrUsedCntnMslots,        ctrExtTotalMslots,        ctrExtUcastGrantedMslots,        ctrExtTotalCntnMslots,        ctrExtUsedCntnMslots,        ctrCollCntnMslots,        ctrTotalCntnReqMslots,        ctrUsedCntnReqMslots,        ctrCollCntnReqMslots,        ctrTotalCntnReqDataMslots,        ctrUsedCntnReqDataMslots,        ctrCollCntnReqDataMslots,        ctrTotalCntnInitMaintMslots,        ctrUsedCntnInitMaintMslots,        ctrCollCntnInitMaintMslots,        ctrExtCollCntnMslots,        ctrExtTotalCntnReqMslots,        ctrExtUsedCntnReqMslots,        ctrExtCollCntnReqMslots,        ctrExtTotalCntnReqDataMslots,        ctrExtUsedCntnReqDataMslots,        ctrExtCollCntnReqDataMslots,        ctrExtTotalCntnInitMaintMslots,        ctrExtUsedCntnInitMaintMslots,        ctrExtCollCntnInitMaintMslots        FROM        cmcupchannelstaticinfo        WHERE cmcId = #{cmcId}    </select>    <select id="getUpChannelSignalQualityInfoList" parameterType="Long"     resultType="cmcUpChannelSignalQualityInfo">        select        a.cmcPortId, a.cmcId, a.channelIndex,        a.docsIfSigQIncludesContention,        a.docsIfSigQUnerroreds,        a.docsIfSigQCorrecteds,        a.docsIfSigQUncorrectables,        a.docsIfSigQSignalNoise,        a.docsIfSigQMicroreflections,        a.docsIfSigQEqualizationData,        a.docsIfSigQExtUnerroreds,        a.docsIfSigQExtCorrecteds,        a.docsIfSigQExtUncorrectables,        a.docsIf3SignalPower,        b.channelId AS cmcChannelId,        c.ifDescr               from        cmcupchannelsignalqualityinfo a left join cmcupchannelbaseinfo b on a.cmcPortId = b.cmcPortId        left join cmcportattribute c on a.cmcPortId = c.cmcPortId        WHERE        a.cmcId = #{cmcId}    </select>    <select id="getUpChannelListByPortId" parameterType="Long"     resultType="cmcUpChannelBaseShowInfo">        SELECT        a.channelFrequency,        a.ChannelWidth,        c.ifAdminStatus        FROM        cmcupchannelbaseinfo a left join cmcportattribute c on        a.cmcPortId=c.cmcPortId        WHERE a.cmcId = (SELECT b.cmcId FROM cmcupchannelbaseinfo b        WHERE b.cmcPortId = #{cmcPortId}) AND a.cmcPortId != #{cmcPortId} and c.ifAdminStatus = 1        ORDER BY a.channelFrequency ASC    </select>    <select id="getUpChannelOnListByCmcId" parameterType="Long"     resultType="cmcUpChannelBaseShowInfo">        SELECT        a.ChannelId,        a.channelFrequency,        a.ChannelWidth,        c.ifAdminStatus        FROM        cmcupchannelbaseinfo a left join cmcportattribute c on        a.cmcPortId=c.cmcPortId        WHERE a.cmcId = #{cmcId} and c.ifAdminStatus = 1        ORDER BY a.channelFrequency ASC    </select>    <select id="getUsSignalQualityInfoList" parameterType="Long"     resultType="usSignalInfo">        select D.cmcId,D.channelIndex,b.ifAdminStatus,a.ccerCode sigQCorrecteds,a.ccerRate,a.ucerCode sigQUncorrectables,b.ifName,           a.ucerRate,a.noerCode sigQUnerroreds, a.noerRate, b.ifDescr,c.collectValue sigQSignalNoise        from  cmcupchannelbaseinfo D LEFT JOIN  cmcportattribute B ON D.cmcId=B.cmcId AND D.channelIndex=B.ifIndex        left join perfcmcerrorcodequalitylast a  on a.channelIndex=b.ifIndex and a.cmcId=b.cmcId         left join perfcmcsnrqualitylast c on c.channelIndex=b.ifIndex and c.cmcId=b.cmcId        where D.cmcId=#{cmcId}     </select>        <select id="getPortId" parameterType="map" resultType="long">    	SELECT     		cmcPortId     	FROM     		cmcupchannelbaseinfo     	WHERE     		cmcId=#{cmcId}     		AND     		channelIndex=#{channelIndex}    </select>    <select id="selectUpChannelBaseInfo" parameterType="map" resultType="cmcUpChannelBaseShowInfo">    	SELECT 			 cmcPortId,cmcId,channelIndex,channelId,channelFrequency,channelWidth,channelModulationProfile,channelMode as channelExtMode,channelSlotSize,channelTxTimingOffset,channelRangingBackoffStart,channelRangingBackoffEnd,channelTxBackoffStart,channelTxBackoffEnd,channelScdmaActiveCodes,channelScdmaHoppingSeed,channelScdmaCodesPerSlot,channelScdmaFrameSize,channelScdmaHoppingSeed,channelType,channelCloneFrom,channelUpdate,channelStatus,channelPreEqEnable		FROM 			cmcupchannelbaseinfo 		WHERE cmcId=#{cmcId} AND channelIndex=#{upChannleIndex}    </select>	<!-- ################################## select end ######################################### -->		<!-- ################################## insert start ####################################### -->	<!-- ################################## insert end ######################################### -->		<!-- ################################## update start ####################################### -->	<update id="updateUpChannelBaseShowInfo" parameterType="cmcUpChannelBaseShowInfo">        update        cmcupchannelbaseinfo a /*,cmcportattribute b*/        set        a.cmcPortId= #{cmcPortId},        a.cmcId=#{cmcId},        /*b.ifAdminStatus=#{ifAdminStatus},*/        a.channelFrequency= #{channelFrequency},        a.channelWidth= #{channelWidth},        a.channelModulationProfile=#{channelModulationProfile},        a.channelSlotSize= #{channelSlotSize},        a.channelRangingBackoffStart=#{channelRangingBackoffStart},        a.channelRangingBackoffEnd=#{channelRangingBackoffEnd},        a.channelTxBackoffStart=#{channelTxBackoffStart},        a.channelTxBackoffEnd=#{channelTxBackoffEnd},        a.channelScdmaActiveCodes=#{channelScdmaActiveCodes},        a.channelScdmaCodesPerSlot=        #{channelScdmaCodesPerSlot},        a.channelScdmaFrameSize=#{channelScdmaFrameSize},        a.channelScdmaHoppingSeed=#{channelScdmaHoppingSeed},        a.channelCloneFrom=#{channelCloneFrom},        a.channelUpdate=#{channelUpdate},        a.channelStatus=#{channelStatus},        a.channelPreEqEnable=#{channelPreEqEnable}        where        a.cmcPortId= #{cmcPortId} /*and        b.cmcPortId=#{cmcPortId}*/    </update>    <update id="updateUpChannelBaseInfo" parameterType="cmcUpChannelBaseInfo">        update        cmcupchannelbaseinfo a        set        a.cmcId=#{cmcId},        a.channelFrequency= #{channelFrequency},        a.channelWidth= #{channelWidth},        a.channelModulationProfile=#{channelModulationProfile},        a.channelType = #{channelType},        a.channelMode = #{channelExtMode},        a.cmtsChannelModulationProfile=#{cmtsChannelModulationProfile}        where        a.cmcPortId= #{cmcPortId}    </update>    <update id="updateUpChannelSignalQuality" parameterType="map">        update         	cmcupchannelsignalqualityinfo         set docsIf3SignalPower = #{docsIf3SignalPower}        where cmcPortId = #{cmcPortId}    </update>    <update id="updateUpChannelRanging" parameterType="cmcUpChannelRanging">        update      	    cmcupchannelbaseinfo a        set	        a.ChannelRangingBackoffStart = #{channelRangingBackoffStart},	        a.ChannelRangingBackoffEnd = #{channelRangingBackoffEnd},	        a.ChannelTxBackoffStart = #{channelTxBackoffStart},	        a.ChannelTxBackoffEnd = #{channelTxBackoffEnd}        where      		a.cmcPortId= #{cmcPortId}    </update>	<!-- ################################## update end ######################################### -->		<!-- ################################## delete start ####################################### -->	<!-- ################################## delete end ######################################### --></mapper>