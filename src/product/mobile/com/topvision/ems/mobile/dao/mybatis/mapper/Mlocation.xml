<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.topvision.ems.mobile.domain.Location">    <select id="getEntityListByMac" parameterType="map" resultType="com.topvision.ems.facade.domain.Entity">        select 			e.entityId,e.parentId,e.typeId,e.`name`,et.displayName typeName,ca.topCcmtsSysMacAddr		from 			cmcattribute ca		LEFT JOIN			entity e on ca.cmcId = e.entityId		LEFT JOIN			entitytype et on e.typeId = et.typeId          WHERE e.typeId like '300__' and         (e.mac like '%${cmtsMac}%' OR REPLACE(e.mac, ':', '') LIKE '%${cmtsMac}%' OR ca.topCcmtsSysMacAddr LIKE '%${cmtsMac}%')       	limit ${start},${limit}	</select>	<select id="getEntityCountByMac" parameterType="map" resultType="long">        select 			count(e.entityId)		from 			cmcattribute ca		LEFT JOIN			entity e on ca.cmcId = e.entityId		LEFT JOIN			entitytype et on e.typeId = et.typeId          WHERE e.typeId like '300__' and        		 (e.mac like '%${cmtsMac}%' OR REPLACE(e.mac, ':', '') LIKE '%${cmtsMac}%' OR ca.topCcmtsSysMacAddr LIKE '%${cmtsMac}%')	</select>    <select id="getEntityListByName" parameterType="map" resultType="com.topvision.ems.facade.domain.Entity">        select         	e.entityId,e.parentId,e.typeId,et.displayName typeName         from         	entity e         LEFT JOIN entitytype et on e.typeId = et.typeId          WHERE e.typeId like '300__' and         e.name like '%${cmtsName}%'        limit ${start},${limit}	</select>	<select id="getEntityCountByName" parameterType="map" resultType="long">        select         	count(e.entityId)        from         	entity e         LEFT JOIN entitytype et on e.typeId = et.typeId          WHERE e.typeId like '300__' and         e.name like '%${cmtsName}%'	</select>    <select id="getEntityListByCmMac" parameterType="map" resultType="com.topvision.ems.facade.domain.Entity">        select         	e.entityId,e.parentId,e.typeId,et.displayName typeName         from        	(SELECT cmcId from cmccmrelation ccr         	WHERE ccr.mac like '%${cmMac}%'         	OR REPLACE(ccr.mac, ':', '') LIKE '%${cmMac}%'        	GROUP BY cmcId) a        LEFT JOIN entity e on a.cmcId = e.entityId        LEFT JOIN entitytype et on e.typeId = et.typeId        WHERE e.typeId like '300__'        limit ${start},${limit}	</select>	<select id="getEntityCountByCmMac" parameterType="map" resultType="long">        select         	count(e.entityId)         from        	(SELECT cmcId from cmccmrelation ccr         	WHERE ccr.mac like '%${cmMac}%'         	OR REPLACE(ccr.mac, ':', '') LIKE '%${cmMac}%'        	GROUP BY cmcId) a        LEFT JOIN entity e on a.cmcId = e.entityId        LEFT JOIN entitytype et on e.typeId = et.typeId        WHERE e.typeId like '300__'	</select>    <select id="getCmtsLocation" parameterType="long" resultType="com.topvision.ems.cmc.cm.domain.CcmtsLocation">		SELECT			e.ip,			e.name,			e.mac,			cca.topCcmtsSysStatus as state,			cr.cmcIndex		FROM			cmcattribute cca		LEFT JOIN entity e ON cca.cmcId=e.entityId		LEFT JOIN cmcentityrelation cr ON cca.cmcId = cr.cmcId		WHERE			cca.cmcId=#{cmcId}	</select></mapper>